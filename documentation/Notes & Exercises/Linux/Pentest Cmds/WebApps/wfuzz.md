## Wfuzz

Wfuzz is another web directory scanner that does a lot more, it allows you to fuzz almost any part of an HTTP request, it supports proxying, and works with SSL that has invalid certificates.

```bash
wfuzz -R1 -w /usr/share/dirb/wordlists/common.txt -f ./enumeration/wfuzz/outfile.txt https://10.11.1.1:80/FUZZ

# Option
-R1	# Recursion to one depth level
-w 	# Specify the wordlist
-f	# file to write to
https://10.11.1.1:80/FUZZ	# URL to fuzz, using the FUZZ keyword to show where to insert the guesses
```

### Incomplete Results

The output file should show the results of every line of your guess file times however many folders it recursed.  If you look at the outfile and it's incomplete, some reasons I found were:

1. Too many scans at the same time
2. Timeouts were occurring over the connection
3. Sending the output to /dev/null
4. Running the scan as a background job

I was most successful running a couple of scans at a time at most, allowing them to run in their own shell session and letting the output display to stdout.  I have no idea why this made a difference, but I tried different things and this was what worked.

### Filtering Results

Examine your directory & file scan results and verify they look correct.   Some webservers will response with a 200 for every page, generating thousands of false positives:

```bash
# Count how many URL's were found.  If you have a ridiculous number, probably one of the webservers is reporting 200 for every page
grep -v C=404 *.txt | cut -d "\"" -f 2 | sort | uniq -i | sed 's/ - /\//g' | wc -l

# Display the results of each host
for file in $(ls -rt); do echo "****************$file*******************"; grep -v C=404 *.txt | cut -d "\"" -f 2 | sort | uniq -i | sed 's/ - /\//g'; done | less
```

### Proxy

It is better to use the built-in proxy function so wfuzz can control the timeouts rather than relying on proxychains or some other proxying method.

```bash
wfuzz -R1 -w /usr/share/dirb/wordlists/common.txt -f ./enumeration/wfuzz/outfile.txt -p 127.0.0.1:1080:SOCKS4 https://10.11.1.1:80/FUZZ

# Option
-p 	# Specify the IP:PORT:TYPE of proxy
```

