## Pivoting

### SSH Port Forwarding

#### Local Port

```bash
sudo ssh -N -L 0.0.0.0:445:172.16.216.5:445 student@192.168.216.44

# Options
-N 	# Do not execute remote command
-L	# Local Bind option
0.0.0.0:445:172.16.216.5:445 # Specifies that connections on Kali to the local port 445 are forwarded to Windows Server 2016 on port 445.  
# LocalIP:LocalPort:RemoteIP:RemotePort
# Specifying 127.0.0.1 as the source address will limit this forwarding to only apps on the local machine.
student@192.168.216.44	# Login info for the SSH connection
```

#### Remote Port

```bash
ssh -N -R 192.168.119.153:2221:127.0.0.1:3306 rcoyote@192.168.119.216

# Options
-N 	# Do not execute remote command
-R	# Remote Bind option
192.168.119.153:2221:127.0.0.1:3306 # Specifies that a listener will be opened on the remote end (192.168.119.153:2221) that will forward connections to the local port (127.0.0.1:3306) 
coyote@192.168.119.216	# Login info for the SSH connection
```

##### Dynamic Port (SOCKS4 Proxy)

```bash
sudo ssh -N -D 127.0.0.1:1080 student@192.168.216.44

# Options
-N 	# Do not execute remote command
-D	# Dynamic Bind option, creates local SOCKS4 application proxy
127.0.0.1:1080	# Specifies the local port to use as the proxy
student@192.168.216.44	# Login info for the SSH connection to the Linux Client
```



